<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Juego sorpresa — Conociendo a Romina</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/style.css">

        <!-- lOGO EN ELNAVEGADOR -->
    <link rel="icon" type="image/png" href="assets/img/Logo.png">
    <style>
        body { background: #f6f6f9; }
        .quiz-container {
            max-width: 760px;
            margin: 0 auto;
            padding: 3rem 1rem 5rem;
        }
        .quiz-card {
            background: #fff;
            border-radius: 22px;
            box-shadow: 0 18px 45px rgba(15, 23, 42, 0.12);
            padding: 2.5rem;
            border: 1px solid rgba(166, 124, 82, 0.16);
        }
        .quiz-pill {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.4rem 0.85rem;
            border-radius: 999px;
            background: rgba(166, 124, 82, 0.15);
            color: var(--secondary-color);
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.06rem;
        }
        .quiz-options {
            display: grid;
            gap: 1rem;
            margin-top: 2rem;
        }
        .quiz-option {
            border: 1px solid rgba(0,0,0,0.08);
            border-radius: 14px;
            padding: 1rem 1.2rem;
            text-align: left;
            background: #fff;
            font-size: 1rem;
            transition: border 0.2s ease, box-shadow 0.2s ease, transform 0.2s ease;
        }
        .quiz-option:hover {
            border-color: rgba(166, 124, 82, 0.7);
            box-shadow: 0 10px 24px rgba(15, 23, 42, 0.08);
            transform: translateY(-2px);
        }
        .quiz-option.active {
            border-color: var(--secondary-color);
            box-shadow: 0 12px 30px rgba(166, 124, 82, 0.2);
        }
        .quiz-option.correct { border-color: #0f5132; background: #ecf8f4; }
        .quiz-option.incorrect { border-color: #842029; background: #fef1f0; }
        .quiz-progress {
            height: 8px;
            background: rgba(0,0,0,0.06);
            border-radius: 4px;
            overflow: hidden;
            margin-top: 2rem;
        }
        .quiz-progress-bar {
            height: 100%;
            width: 0;
            background: linear-gradient(120deg, var(--secondary-color), #d49b6a);
            transition: width 0.4s ease;
        }
        .quiz-footer {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: space-between;
            gap: 1rem;
            margin-top: 2.5rem;
        }
        .quiz-detail {
            margin-top: 1.5rem;
            padding: 1rem 1.2rem;
            border-radius: 12px;
            background: rgba(246, 244, 242, 0.7);
            color: #444;
            min-height: 70px;
        }
        .private-footer {
            background: #111;
            color: #eee;
            padding: 2rem 0;
        }
    </style>
</head>
<body data-require-admin>
    <div class="top-bar d-none d-lg-block">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-7">
                    <span><i class="fas fa-crown me-2"></i>Zona privada — Juego sorpresa</span>
                </div>
                <div class="col-md-5 text-end">
                    <span class="me-3"><i class="fas fa-envelope-open me-2"></i>romina.gutierrez@atelier.com</span>
                    <a href="https://www.instagram.com" class="me-3" target="_blank" rel="noopener"><i class="fab fa-instagram"></i></a>
                    <a href="https://www.linkedin.com" target="_blank" rel="noopener"><i class="fab fa-linkedin-in"></i></a>
                </div>
            </div>
        </div>
    </div>

    <nav class="navbar navbar-expand-lg navbar-light bg-white">
        <div class="container">
            <a class="navbar-brand" href="index.html">RGG Atelier</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav mx-auto">
                    <li class="nav-item"><a class="nav-link" href="index.html">Inicio</a></li>
                    <li class="nav-item"><a class="nav-link" href="colecciones.html">Colecciones</a></li>
                    <li class="nav-item"><a class="nav-link" href="galeria.html">Galería</a></li>
                    <li class="nav-item"><a class="nav-link" href="nuestra-historia.html">¿Quién soy?</a></li>
                    <li class="nav-item"><a class="nav-link" href="mujer.html">Mujer</a></li>
                    <li class="nav-item"><a class="nav-link" href="hombre.html">Hombre</a></li>
                    <li class="nav-item"><a class="nav-link" href="accesorios.html">Accesorios</a></li>
                    <li class="nav-item d-none" data-admin-only>
                        <a class="nav-link active" href="cumpleanos.html"><i class="fas fa-gift me-2"></i>Cumpleaños</a>
                    </li>
                </ul>
                <div class="navbar-nav ms-auto nav-icons align-items-center gap-2">
                    <a class="nav-link" href="galeria.html" title="Galería destacada"><i class="fas fa-images"></i><span>Portfolio</span></a>
                    <a class="nav-link" href="login.html" data-login-link title="Acceso privado"><i class="fas fa-user-lock"></i><span>Acceder</span></a>
                    <span class="nav-link admin-pill d-none" data-admin-pill><i class="fas fa-crown"></i><span data-admin-name></span></span>
                    <a class="nav-link d-none" href="#" data-logout-link title="Cerrar sesión"><i class="fas fa-sign-out-alt"></i><span>Salir</span></a>
                </div>
            </div>
        </div>
    </nav>

    <div class="quiz-container">
        <div class="quiz-card">
            <div class="d-flex justify-content-between flex-wrap align-items-center gap-3">
                <span class="quiz-pill"><i class="fas fa-lightbulb"></i> Trivia creativa</span>
                <div class="text-muted">Puntuación: <strong id="quizScore">0</strong></div>
            </div>
            <h1 class="mt-3">¿Cuánto conoces a Romina?</h1>
            <p class="text-muted">Selecciona la respuesta correcta. Después de cada pregunta descubrirás una anécdota.</p>

            <div class="quiz-progress mt-4">
                <div class="quiz-progress-bar" id="quizProgress"></div>
            </div>

            <div id="quizQuestion" class="mt-4 fs-5 fw-semibold"></div>
            <div id="quizOptions" class="quiz-options"></div>
            <div id="quizDetail" class="quiz-detail"></div>

            <div class="quiz-footer">
                <button id="quizControl" class="btn btn-dark"><i class="fas fa-check me-2"></i>Comprobar respuesta</button>
                <button id="quizReset" class="btn btn-outline-dark"><i class="fas fa-rotate-left me-2"></i>Reiniciar</button>
            </div>
        </div>
    </div>

    <footer class="private-footer">
        <div class="container text-center">
            <p class="mb-0">Celebremos cada acierto y aprendamos de cada recuerdo.</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/auth.js"></script>
    <script>
        const quizState = {
            questions: [
                {
                    text: '¿Cuál fue la inspiración principal de la colección "Raíces"?',
                    options: [
                        'La arquitectura industrial de Bilbao',
                        'Los recuerdos familiares de la infancia',
                        'El universo del ballet clásico',
                        'Los paisajes urbanos de Nueva York'
                    ],
                    answer: 1,
                    detail: '"Raíces" nació de los recuerdos familiares, de álbumes de fotos y sobremesas llenas de historias.'
                },
                {
                    text: '¿Qué tejido innovador utilizó Romina en su proyecto final?',
                    options: [
                        'Seda teñida con pigmentos metálicos',
                        'Algodón orgánico certificado GOTS',
                        'Tejido reciclado a partir de redes de pesca',
                        'Neopreno con acabado mate'
                    ],
                    answer: 2,
                    detail: 'Romina apostó por tejidos reciclados a partir de redes de pesca para subrayar su compromiso con la sostenibilidad.'
                },
                {
                    text: '¿Cuál es su ritual antes de presentar una colección?',
                    options: [
                        'Escuchar una lista de reproducción con jazz contemporáneo',
                        'Escribir una carta a su yo del futuro',
                        'Tomar fotografías de las prendas con su cámara analógica',
                        'Dar un paseo nocturno para respirar y visualizar la pasarela'
                    ],
                    answer: 3,
                    detail: 'Un paseo nocturno le permite ordenar ideas, calmar nervios y visualizar cada salida de la pasarela.'
                },
                {
                    text: '¿Qué mentor marcó su forma de entender la moda?',
                    options: [
                        'Patricia Romero',
                        'Ana Locking',
                        'Palomo Spain',
                        'Ágatha Ruiz de la Prada'
                    ],
                    answer: 0,
                    detail: 'Patricia Romero, su mentora en la EASD Madrid, le enseñó a construir una narrativa visual coherente.'
                },
                {
                    text: '¿Qué sueño profesional quiere cumplir en los próximos tres años?',
                    options: [
                        'Abrir una concept store en Malasaña',
                        'Presentar una colección genderless en la 080 Barcelona Fashion',
                        'Colaborar con un equipo de vestuario cinematográfico',
                        'Crear una línea de accesorios tecnológicos'
                    ],
                    answer: 1,
                    detail: 'Sueña con presentar una colección genderless y sostenible en la 080 Barcelona Fashion.'
                }
            ],
            currentIndex: 0,
            score: 0,
            answered: false,
            selectedIndex: null,
            showResultsPending: false,
            finished: false
        };

        const questionEl = document.getElementById('quizQuestion');
        const optionsEl = document.getElementById('quizOptions');
        const detailEl = document.getElementById('quizDetail');
        const controlBtn = document.getElementById('quizControl');
        const resetBtn = document.getElementById('quizReset');
        const progressBar = document.getElementById('quizProgress');
        const scoreEl = document.getElementById('quizScore');

        function renderQuestion() {
            const question = quizState.questions[quizState.currentIndex];
            questionEl.textContent = `${quizState.currentIndex + 1}. ${question.text}`;
            optionsEl.innerHTML = '';
            detailEl.textContent = '';
            detailEl.style.display = 'none';
            quizState.answered = false;
            quizState.selectedIndex = null;
            quizState.showResultsPending = false;
            quizState.finished = false;
            controlBtn.innerHTML = '<i class="fas fa-check me-2"></i>Comprobar respuesta';

            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.type = 'button';
                button.className = 'quiz-option';
                button.textContent = option;
                button.addEventListener('click', () => selectOption(index, button));
                optionsEl.appendChild(button);
            });

            updateProgress();
        }

        function selectOption(index, button) {
            if (quizState.answered) return;
            quizState.selectedIndex = index;
            optionsEl.querySelectorAll('.quiz-option').forEach(el => el.classList.remove('active'));
            button.classList.add('active');
        }

        function checkAnswer() {
            if (quizState.selectedIndex === null) {
                detailEl.textContent = 'Selecciona una respuesta antes de continuar.';
                detailEl.style.display = 'block';
                return;
            }

            const question = quizState.questions[quizState.currentIndex];
            quizState.answered = true;
            const options = optionsEl.querySelectorAll('.quiz-option');
            options.forEach((option, idx) => {
                option.classList.remove('active');
                if (idx === question.answer) {
                    option.classList.add('correct');
                }
                if (idx === quizState.selectedIndex && idx !== question.answer) {
                    option.classList.add('incorrect');
                }
                option.disabled = true;
            });

            if (quizState.selectedIndex === question.answer) {
                quizState.score += 1;
                scoreEl.textContent = quizState.score;
            }

            detailEl.textContent = question.detail;
            detailEl.style.display = 'block';

            if (quizState.currentIndex === quizState.questions.length - 1) {
                controlBtn.innerHTML = '<i class="fas fa-flag-checkered me-2"></i>Ver resultado final';
                quizState.showResultsPending = true;
            } else {
                controlBtn.innerHTML = '<i class="fas fa-arrow-right me-2"></i>Siguiente pregunta';
            }
        }

        function nextQuestion() {
            if (!quizState.answered) {
                checkAnswer();
                return;
            }

            if (quizState.showResultsPending) {
                showResults();
                return;
            }

            if (quizState.currentIndex < quizState.questions.length - 1) {
                quizState.currentIndex += 1;
                renderQuestion();
            }
        }

        function showResults() {
            questionEl.textContent = '¡Fin del juego!';
            optionsEl.innerHTML = '';
            detailEl.style.display = 'block';
            const percentage = Math.round((quizState.score / quizState.questions.length) * 100);
            detailEl.innerHTML = `Acertaste <strong>${quizState.score}</strong> de <strong>${quizState.questions.length}</strong> preguntas. Tu nivel de conocimiento es del <strong>${percentage}%</strong>.`;
            controlBtn.innerHTML = '<i class="fas fa-arrow-left me-2"></i>Volver a empezar';
            quizState.answered = true;
            quizState.finished = true;
            quizState.showResultsPending = false;
            progressBar.style.width = '100%';
        }

        function resetQuiz() {
            quizState.currentIndex = 0;
            quizState.score = 0;
            quizState.answered = false;
            quizState.selectedIndex = null;
            quizState.showResultsPending = false;
            quizState.finished = false;
            scoreEl.textContent = '0';
            renderQuestion();
        }

        function updateProgress() {
            const progress = ((quizState.currentIndex) / quizState.questions.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        controlBtn.addEventListener('click', () => {
            if (quizState.finished) {
                resetQuiz();
            } else if (!quizState.answered) {
                checkAnswer();
            } else {
                nextQuestion();
            }
        });

        resetBtn.addEventListener('click', resetQuiz);

        document.addEventListener('DOMContentLoaded', () => {
            window.RGGAuth.requireAdminAccess();
            renderQuestion();
        });
    </script>
</body>
</html>
